{"version":3,"sources":["js/carousel.js"],"names":["Carousel","$root","$pre","querySelector","$next","$$indicators","querySelectorAll","$$panels","bind","setInterval","document","all","getElementById","click","e","createEvent","initEvent","dispatchEvent","onclick","index","getPreIndex","setPage","setIndicator","getNextIndex","forEach","$indicator","indexOf","target","getIndex","length","$panel","classList","remove","add","$$carousel"],"mappings":"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","file":"carousel.d082d1bf.js","sourceRoot":"..\\src","sourcesContent":["import '../css/carousel.css'\r\nclass Carousel {\r\n\tconstructor($root) {\r\n\t\tthis.$root = $root\r\n\t\tthis.$pre = $root.querySelector('.arrow-pre')\r\n\t\tthis.$next = $root.querySelector('.arrow-next')\r\n\t\tthis.$$indicators = $root.querySelectorAll('.indicators > li')\r\n\t\tthis.$$panels = $root.querySelectorAll('.panels > a')\r\n\r\n\t\tthis.bind()\r\n\t}\r\n\r\n\tbind() {\r\n\t\tsetInterval(() => {\r\n\t\t\t// IE浏览器\r\n\t\t\tif (document.all) {\r\n\t\t\t\tdocument.getElementById('clickMe').click()\r\n\t\t\t}\r\n\t\t\t// 其它浏览器\r\n\t\t\telse {\r\n\t\t\t\tvar e = document.createEvent('MouseEvents')\r\n\t\t\t\te.initEvent('click', true, true)\r\n\t\t\t\tthis.$next.dispatchEvent(e)\r\n\t\t\t}\r\n\t\t}, 3000)\r\n\r\n\t\tthis.$pre.onclick = () => {\r\n\t\t\tlet index = this.getPreIndex()\r\n\t\t\tthis.setPage(index)\r\n\t\t\tthis.setIndicator(index)\r\n\t\t}\r\n\r\n\t\tthis.$next.onclick = () => {\r\n\t\t\tlet index = this.getNextIndex()\r\n\t\t\tthis.setPage(index)\r\n\t\t\tthis.setIndicator(index)\r\n\t\t}\r\n\r\n\t\tthis.$$indicators.forEach(\r\n\t\t\t$indicator =>\r\n\t\t\t\t($indicator.onclick = e => {\r\n\t\t\t\t\tlet index = [...this.$$indicators].indexOf(e.target)\r\n\t\t\t\t\tthis.setIndicator(index)\r\n\t\t\t\t\tthis.setPage(index)\r\n\t\t\t\t})\r\n\t\t)\r\n\t}\r\n\r\n\tgetIndex() {\r\n\t\treturn [...this.$$indicators].indexOf(\r\n\t\t\tthis.$root.querySelector('.indicators .active')\r\n\t\t)\r\n\t}\r\n\r\n\tgetPreIndex() {\r\n\t\treturn (\r\n\t\t\t(this.getIndex() - 1 + this.$$indicators.length) %\r\n\t\t\tthis.$$indicators.length\r\n\t\t)\r\n\t}\r\n\r\n\tgetNextIndex() {\r\n\t\treturn (this.getIndex() + 1) % this.$$indicators.length\r\n\t}\r\n\r\n\tsetPage(index) {\r\n\t\tthis.$$panels.forEach($panel => $panel.classList.remove('active'))\r\n\t\tthis.$$panels[index].classList.add('active')\r\n\t}\r\n\r\n\tsetIndicator(index) {\r\n\t\tthis.$$indicators.forEach($indicator =>\r\n\t\t\t$indicator.classList.remove('active')\r\n\t\t)\r\n\t\tthis.$$indicators[index].classList.add('active')\r\n\t}\r\n}\r\n\r\nlet $$carousel = document.querySelectorAll('.carousel')\r\n$$carousel.forEach($root => new Carousel($root))\r\n"]}